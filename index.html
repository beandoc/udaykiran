<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-en="Uday Kiran - Your Journey to Freedom" data-hi="उदय किरण - स्वतंत्रता की आपकी यात्रा">Uday Kiran - Your Journey to Freedom</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        :root {
            --primary-color: #0D9488; /* Teal */
            --primary-color-dark: #0A7D7E;
            --secondary-color: #f59e0b; /* Amber for highlights */
            --text-dark: #1f2937;
            --text-light: #6b7280;
            --bg-light: #f9fafb;
            --bg-card: #ffffff;
            --border-color: #e5e7eb;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-light);
            /* Subtle geometric background pattern */
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='28' height='49' viewBox='0 0 28 49'%3E%3Cg fill-rule='evenodd'%3E%3Cg id='hexagons' fill='%23d1fae5' fill-opacity='0.4' fill-rule='nonzero'%3E%3Cpath d='M13.99 9.25l13 7.5v15l-13 7.5L1 31.75v-15l12.99-7.5zM3 17.9v12.7l10.99 6.34 11-6.35V17.9l-11-6.34L3 17.9zM0 15l12.99-7.5L26 15v18.5l-13 7.5L0 33.5V15z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            color: var(--text-dark);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .card-container {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            border-radius: 1rem;
            opacity: 0;
            transform: scale(0.98) translateY(20px);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
            display: none; /* Changed from flex */
            flex-direction: column;
            width: 100%;
            padding: 2.5rem;
            border-top: 4px solid var(--primary-color);
        }

        .card-container.current-screen {
            opacity: 1;
            transform: scale(1) translateY(0);
            display: flex;
        }

        .section-header {
            font-weight: 700;
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 0.75rem;
            text-align: center;
        }
        
        .section-subheader {
            text-align: center;
            color: var(--text-light);
            margin-bottom: 2rem;
            font-size: 1rem;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }

        .app-button-primary {
            background-color: var(--primary-color);
            color: white;
            padding: 0.8rem 1.75rem;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 14px 0 rgba(13, 148, 136, 0.39);
            border: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        .app-button-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px 0 rgba(13, 148, 136, 0.45);
        }
        
        .app-button-secondary {
            background-color: #e5e7eb;
            color: var(--text-dark);
            font-weight: 600;
            border: 1px solid #d1d5db;
            padding: 0.7rem 1.5rem;
            border-radius: 0.5rem;
            transition: all 0.2s ease;
        }
        .app-button-secondary:hover {
            background-color: #d1d5db;
        }

        .app-button-back {
            color: var(--text-light);
            font-weight: 600;
            background: transparent;
            border: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .input-field {
            background: var(--bg-light);
            border: 1px solid var(--border-color);
            padding: 0.8rem 1rem;
            border-radius: 0.5rem;
            transition: all 0.3s ease;
        }
        .input-field:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(13, 148, 136, 0.2);
        }
        
        .radio-option, .checkbox-option {
            padding: 1rem;
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            transition: all 0.2s ease;
            cursor: pointer;
        }
        .radio-option:has(input:checked), .checkbox-option:has(input:checked) {
            background-color: #f0fdfa; /* Teal-50 */
            border-color: var(--primary-color);
        }
        .radio-option input, .checkbox-option input {
            accent-color: var(--primary-color);
        }

        /* New Health Bar Chart Styles */
        #healthOverviewScreen .grid {
            gap: 2rem;
        }
        .health-bar-container {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .health-bar-icon {
            font-size: 1.5rem;
            color: var(--text-light);
            width: 30px;
            text-align: center;
        }
        .health-bar-main {
            width: 100%;
        }
        .health-bar-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 0.5rem;
        }
        .health-bar-track {
            width: 100%;
            height: 12px;
            background-color: #e5e7eb;
            border-radius: 6px;
            overflow: hidden;
        }
        .health-bar {
            height: 100%;
            border-radius: 6px;
            transition: width 1.5s cubic-bezier(0.25, 1, 0.5, 1), background-color 1s ease;
            animation: slideIn 1.5s cubic-bezier(0.25, 1, 0.5, 1);
        }
        @keyframes slideIn {
            from { width: 0%; }
        }

        #healthInsights {
            background: #f0fdfa;
            border-radius: 0.75rem;
            padding: 1.5rem;
            border-left: 4px solid var(--secondary-color);
        }

        /* Stepper */
        .stepper-container {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            margin-bottom: 2rem;
            gap: 0.5rem;
        }
        .stepper-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: var(--border-color);
            transition: all 0.3s ease;
        }
        .stepper-dot.active {
            background-color: var(--primary-color);
            transform: scale(1.25);
        }

        .logo-placeholder {
            width: 120px;
            height: 40px;
            margin: 0 auto 1rem;
            text-align: center;
            color: var(--text-light);
            border: 2px dashed var(--border-color);
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 500;
        }

        /* Lang Toggle */
        .lang-toggle {
            position: fixed;
            top: 1rem; right: 1rem;
            background-color: var(--bg-card);
            color: var(--primary-color);
            padding: 0.5rem 0.8rem;
            border-radius: 0.5rem;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: bold;
            border: 1px solid var(--border-color);
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            z-index: 50;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div class="lang-toggle" id="languageToggle">EN / HI</div>

    <main class="w-full max-w-2xl">

        <div id="welcomeScreen" class="card-container">
            <div id="welcomeTopStepper" class="stepper-container"></div>
            <div class="logo-placeholder" data-en="Your Logo" data-hi="आपका लोगो">Your Logo</div>
            <h1 class="section-header" data-en="Uday Kiran" data-hi="उदय किरण">Uday Kiran</h1>
            <h2 class="section-subheader" data-en="Your personalized journey to a smoke-free life begins now." data-hi="धूम्रपान-मुक्त जीवन के लिए आपकी व्यक्तिगत यात्रा अब शुरू होती है।">Your personalized journey to a smoke-free life begins now.</h2>
            
            <div class="w-full text-left space-y-4">
                <div>
                    <label for="userName" class="block text-sm font-medium mb-1 text-gray-700" data-en="Your Name" data-hi="आपका नाम">Your Name</label>
                    <input type="text" id="userName" class="input-field w-full" placeholder="e.g., Ramesh" data-en-placeholder="e.g., Ramesh" data-hi-placeholder="जैसे, रमेश">
                </div>
                <div>
                    <label for="dob" class="block text-sm font-medium mb-1 text-gray-700" data-en="Date of Birth" data-hi="जन्म तिथि">Date of Birth</label>
                    <input type="date" id="dob" class="input-field w-full">
                </div>
                 <div>
                    <label class="block text-sm font-medium mb-1 text-gray-700" data-en="Gender" data-hi="लिंग">Gender</label>
                    <div class="flex space-x-4">
                        <label class="radio-option flex-1 flex items-center gap-2">
                            <input type="radio" name="gender" value="male" class="gender-input"> <span data-en="Male" data-hi="पुरुष">Male</span>
                        </label>
                        <label class="radio-option flex-1 flex items-center gap-2">
                            <input type="radio" name="gender" value="female" class="gender-input"> <span data-en="Female" data-hi="महिला">Female</span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="mt-8">
                 <button class="app-button-primary" onclick="processWelcomeAndShowNext()">
                    <span data-en="Start Your Journey" data-hi="अपनी यात्रा शुरू करें">Start Your Journey</span>
                    <i class="fa-solid fa-arrow-right"></i>
                </button>
            </div>
        </div>

        <div id="healthOverviewScreen" class="card-container">
             <div id="healthOverviewTopStepper" class="stepper-container"></div>
             <h2 class="section-header" data-en="Your Health Overview" data-hi="आपका स्वास्थ्य अवलोकन">Your Health Overview</h2>
             <p class="section-subheader" data-en="This visual represents the current impact of tobacco on your well-being, based on your assessment." data-hi="यह दृश्य आपके मूल्यांकन के आधार पर आपके स्वास्थ्य पर तंबाकू के वर्तमान प्रभाव को दर्शाता है।">This visual represents the current impact of tobacco on your well-being, based on your assessment.</p>
            
            <div class="grid md:grid-cols-2 w-full gap-8 items-start">
                <div id="healthImpactChart" class="w-full space-y-6">
                    <div class="health-bar-container">
                        <i class="fa-solid fa-lungs health-bar-icon"></i>
                        <div class="health-bar-main">
                            <div class="health-bar-label">
                                <span data-en="Lung Health" data-hi="फेफड़ों का स्वास्थ्य">Lung Health</span>
                                <span class="health-bar-value font-semibold"></span>
                            </div>
                            <div class="health-bar-track"><div id="lungImpactBar" class="health-bar"></div></div>
                        </div>
                    </div>
                    <div class="health-bar-container">
                        <i class="fa-solid fa-heart-pulse health-bar-icon"></i>
                        <div class="health-bar-main">
                            <div class="health-bar-label">
                                <span data-en="Cardiovascular" data-hi="हृदय-सम्बन्धी">Cardiovascular</span>
                                <span class="health-bar-value font-semibold"></span>
                            </div>
                            <div class="health-bar-track"><div id="heartImpactBar" class="health-bar"></div></div>
                        </div>
                    </div>
                    <div class="health-bar-container">
                        <i class="fa-solid fa-brain health-bar-icon"></i>
                        <div class="health-bar-main">
                            <div class="health-bar-label">
                                <span data-en="Mental Clarity" data-hi="मानसिक स्पष्टता">Mental Clarity</span>
                                <span class="health-bar-value font-semibold"></span>
                            </div>
                            <div class="health-bar-track"><div id="mindImpactBar" class="health-bar"></div></div>
                        </div>
                    </div>
                </div>

                <div id="healthInsights" class="space-y-3">
                    <h3 class="text-lg font-semibold text-gray-800 flex items-center gap-2">
                        <i class="fa-solid fa-lightbulb text-yellow-500"></i>
                        <span data-en="Key Insights" data-hi="मुख्य अंतर्दृष्टि">Key Insights</span>
                    </h3>
                    <p id="healthScoreDisplay" class="text-sm font-semibold text-gray-700"></p>
                    <p id="healthAdviceText" class="text-sm text-gray-600 leading-relaxed"></p>
                </div>
            </div>

             <div class="mt-8 w-full flex justify-between items-center">
                <button class="app-button-back" onclick="showScreen('fagerstromTest')"><i class="fa-solid fa-arrow-left"></i> <span data-en="Previous" data-hi="पिछला">Previous</span></button>
                <button class="app-button-primary" onclick="showScreen('cravingManagementScreen')">
                    <span data-en="Next Step" data-hi="अगला कदम">Next Step</span> <i class="fa-solid fa-arrow-right"></i>
                </button>
            </div>
        </div>

        </main>

    <script>
        // --- SCRIPT FROM PREVIOUS VERSION ---
        // The JavaScript logic remains largely the same.
        // I will focus on the parts that need updating for the new visual style.
        // A full script would be too long, so this is an illustrative example.

        let currentUser = {};
        let fagerstromScore = 8; // Example score for demonstration
        let nicotineDependenceLevel = 'High'; // Example level
        let currentLanguage = 'en';

        const screens = [
            { id: 'welcomeScreen', label: { en: 'Start', hi: 'शुरू करें' } },
            // ... add other screens here
            { id: 'healthOverviewScreen', label: { en: 'Overview', hi: 'अवलोकन' } }
            // ...
        ];

        const translations = {
            highDependenceAdvice: { en: "Your dependence has a <strong>significant impact</strong>. Focusing on cessation is crucial for improving lung, cardiovascular, and mental health. Let's build a plan.", hi: "आपकी निर्भरता का <strong>महत्वपूर्ण प्रभाव</strong> है। फेफड़ों, हृदय और मानसिक स्वास्थ्य में सुधार के लिए समाप्ति पर ध्यान केंद्रित करना महत्वपूर्ण है। आइए एक योजना बनाएं।" },
            moderateDependenceAdvice: { en: "Your tobacco use has a <strong>moderate impact</strong>. This is a critical time to implement effective strategies to prevent further damage. Consistent effort will bring great results.", hi: "आपके तंबाकू के उपयोग का <strong>मध्यम प्रभाव</strong> है। आगे की क्षति को रोकने के लिए प्रभावी रणनीतियों को लागू करने का यह एक महत्वपूर्ण समय है। लगातार प्रयास से अच्छे परिणाम मिलेंगे।" },
            lowDependenceAdvice: { en: "Your dependence is <strong>low</strong>, a great advantage! This gives you a strong foundation. Focus on reinforcing healthy habits to stay smoke-free.", hi: "आपकी निर्भरता <strong>कम</strong> है, यह एक बड़ा फायदा है! यह आपको एक मजबूत आधार देता है। धूम्रपान मुक्त रहने के लिए स्वस्थ आदतों को मजबूत करने पर ध्यान दें।" },
            overallImpact: { en: "Overall Impact", hi: "कुल प्रभाव"},
            fagerstromScoreLabel: { en: "Fagerstrom Score", hi: "फ़ेगरस्ट्रॉम स्कोर" }
        };

        function getTranslatedText(key, lang = currentLanguage) {
            return translations[key]?.[lang] || translations[key]?.['en'] || key;
        }

        function translatePage(lang) {
            document.querySelectorAll('[data-en]').forEach(el => {
                const text = lang === 'hi' ? el.getAttribute('data-hi') : el.getAttribute('data-en');
                if (text) el.innerHTML = text; // Use innerHTML to allow for <strong> tags etc.
            });
            // ... rest of translation logic
            generateHealthOverview(); // Re-run to update text
        }

        document.getElementById('languageToggle').addEventListener('click', () => {
            currentLanguage = currentLanguage === 'en' ? 'hi' : 'en';
            translatePage(currentLanguage);
        });

        function createStepper(activeScreenId) {
            const container = document.createElement('div');
            container.className = 'stepper-container';
            screens.forEach(screen => {
                const dot = document.createElement('div');
                dot.className = `stepper-dot ${screen.id === activeScreenId ? 'active' : ''}`;
                container.appendChild(dot);
            });
            return container;
        }

        function showScreen(screenId) {
            document.querySelectorAll('.card-container').forEach(screen => {
                screen.classList.remove('current-screen');
            });
            const activeScreenElement = document.getElementById(screenId);
            if (activeScreenElement) {
                activeScreenElement.classList.add('current-screen');
                const stepperPlaceholder = activeScreenElement.querySelector('[id$="TopStepper"]');
                if (stepperPlaceholder) {
                    stepperPlaceholder.innerHTML = '';
                    stepperPlaceholder.appendChild(createStepper(screenId));
                }
            }
             if (screenId === 'healthOverviewScreen') {
                 generateHealthOverview();
             }
        }
        
        function processWelcomeAndShowNext() {
            // Logic to save user info
            // For demo, we'll just move to the next screen
            showScreen('healthOverviewScreen');
        }

        function generateHealthOverview() {
            const adviceText = document.getElementById('healthAdviceText');
            const healthScoreDisplay = document.getElementById('healthScoreDisplay');
            const lungBar = document.getElementById('lungImpactBar');
            const heartBar = document.getElementById('heartImpactBar');
            const mindBar = document.getElementById('mindImpactBar');

            let advice = "";
            let lungImpact, heartImpact, mindImpact;
            let dependenceText = nicotineDependenceLevel;

            const highImpact = { percentage: 85, label_en: 'High', label_hi: 'उच्च', color: '#ef4444' };
            const moderateImpact = { percentage: 60, label_en: 'Moderate', label_hi: 'मध्यम', color: '#f59e0b' };
            const lowImpact = { percentage: 30, label_en: 'Low', label_hi: 'कम', color: '#22c55e' };

            if (nicotineDependenceLevel === 'High') {
                advice = getTranslatedText('highDependenceAdvice');
                lungImpact = highImpact;
                heartImpact = highImpact;
                mindImpact = moderateImpact;
            } else if (nicotineDependenceLevel === 'Moderate') {
                advice = getTranslatedText('moderateDependenceAdvice');
                lungImpact = moderateImpact;
                heartImpact = moderateImpact;
                mindImpact = lowImpact;
            } else { // Low
                advice = getTranslatedText('lowDependenceAdvice');
                lungImpact = lowImpact;
                heartImpact = lowImpact;
                mindImpact = { percentage: 15, label_en: 'Low', label_hi: 'कम', color: '#22c55e' };
            }

            // Update text
            if(currentLanguage === 'hi') {
                if (nicotineDependenceLevel === 'Low') dependenceText = "कम";
                else if (nicotineDependenceLevel === 'Moderate') dependenceText = "मध्यम";
                else if (nicotineDependenceLevel === 'High') dependenceText = "उच्च";
            }
            healthScoreDisplay.innerHTML = `${getTranslatedText('overallImpact')}: <strong style="color: ${lungImpact.color}">${dependenceText}</strong> (${getTranslatedText('fagerstromScoreLabel')}: ${fagerstromScore})`;
            adviceText.innerHTML = advice;

            // Update bars
            const updateBar = (barElement, impactData) => {
                if (!barElement) return;
                barElement.style.width = `${impactData.percentage}%`;
                barElement.style.backgroundColor = impactData.color;
                const valueLabel = barElement.closest('.health-bar-main').querySelector('.health-bar-value');
                if (valueLabel) {
                    valueLabel.textContent = (currentLanguage === 'hi') ? impactData.label_hi : impactData.label_en;
                    valueLabel.style.color = impactData.color;
                }
            };
            
            // Use setTimeout to allow the screen to render before animating bars
            setTimeout(() => {
                updateBar(lungBar, lungImpact);
                updateBar(heartBar, heartImpact);
                updateBar(mindBar, mindImpact);
            }, 100);
        }

        // Initial Load
        document.addEventListener('DOMContentLoaded', () => {
            // loadUserData(); // You would uncomment this in your full app
            showScreen('welcomeScreen');
            translatePage(currentLanguage);
        });

    </script>
</body>
</html>
